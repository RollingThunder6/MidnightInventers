{% extends "header.html" %}

{% block meta %}
{{super()}}
<meta http-equiv="refresh" content="5;url='http://localhost:5000/devices'">
{% endblock %}

{% block title %}
	Devices
{% endblock %}

{% block page_content %}
	<div class="page-header">
		<h3 class="h3">
			List of Devices connected : 
		</h3>
	</div>
	<div class="table-responsive">
		<table class="table table-hover">
			{% if resp %}
				{% for line_count in range(resp.__len__()) %}
				<tr>
					<td class="click-dropdown-field">
						<div class="header">
							<strong>
								<span class="device-number">
									Device {{line_count + 1}} :
								</span>

								<span class="device-address">
									Network Address : {{resp[line_count].networkAddresses}}
								</span>
							</strong>
						</div>

						<div class="content">
							{% for key,value in resp[line_count].items() %}
								{{key}} : {{value}}
								<br/>
							{% endfor %}
						</div>
					</td>
				</tr>
				{% endfor %}
			{% endif %}
		</table>
	</div>
	{{data}}
{% endblock %}

{% block scripts %}
	{{ super() }}
	<script type="text/javascript" src="{{url_for('static', filename='js/devices.js')}}"></script>
	<!-- <script type="text/javascript">
		setInterval(function(){
			$.ajax({
				type : "POST",
				url : "{{ url_for('main.devices') }}",
				data: "ajax-call",
			});
		}, 5000);
	</script> -->
{% endblock %}